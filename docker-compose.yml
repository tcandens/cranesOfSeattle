api:
  build: ./api
  expose:
    - "3000"
  environment:
    ENV: DEV
  volumes:
    - ./api/src:/var/www/api/src/
    - ./api/node_modules:/var/www/api/node_modules/

webpack:
  build: ./web
  expose:
    - "9000"
  volumes:
    - ./web/src:/usr/src/src

nginx:
  image: nginx:latest
  volumes:
    - ./nginx/nginx.dev.conf:/etc/nginx/nginx.conf:ro
  links:
    - api:api
    - webpack:web
  ports:
    - "8080:80"

